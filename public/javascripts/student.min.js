function loadStudentData(){let t=[],e=$("#studentNo").text();return $.ajax({type:"GET",url:"http://localhost:3000/api/Grade?filter=%7B%22where%22%3A%7B%22student%22%3A%22resource%3Aie.cit.blockchain.participant.Student%23"+e+"%22%7D%7D",success:e=>{e.forEach(e=>{let a={};a.gradeId=e.gradeId,a.finalGrade=e.finalGrade,a.crn=e.crn,a.subject=e.moduleCode.substring(0,4),a.course=e.moduleCode.substring(4),a.stage=e.stage,a.semester=e.semester,a.title=e.courseTitle,a.creditsEarned=e.creditsEarned,t.push(a)})}}).done(()=>{$("#studentGradesTable").DataTable({data:t,columns:[{data:"gradeId",render:t=>'<a href="#" onClick=viewGradeHistory("'+t+'") class="gradeIdBtn" data-id="'+t+'">'+t+"</a>"},{data:"stage"},{data:"semester"},{data:"crn"},{data:"subject"},{data:"course"},{data:"title"},{data:"creditsEarned"},{data:"finalGrade"}]})}),t}function viewGradeHistory(t){let e=t.split("_")[0],a=t.split("_")[1];$("#gradeHistoryModal").modal({}),$.ajax({type:"GET",url:"http://localhost:3000/api/queries/selectHistoryOfGradeAssignedToStudent?studentNumber="+e+"&moduleCRN="+a,success:t=>{}}).done(t=>{console.log(t),$("#gradeHistoryForm #moduleCRNInput").val(t[0].moduleCRN),$("#gradeHistoryForm #studentNoInput").val(t[0].studentNumber),$("#gradeHistoryForm #finalGradeInput").val(t[0].finalGrade),$("#gradeHistoryForm #transactionIdInput").val(t[0].transactionId),$("#gradeHistoryForm #timeStampInput").val(t[0].timestamp)})}$(()=>{if($("body").is(".student")){loadStudentData()}});